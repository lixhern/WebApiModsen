# WebApiModsen

## Инструкция по запуску

### Frontend (директория: \WebApiModsen\frontend):
- Установить зависимости командой: npm install
- В файле \frontend\src\environments\environments.ts изменить значение apiBaseUrl на адрес хоста, где находится API
- Запустить командой: ng serve

### API:
- В файле /WebApiModsen/Program.cs изменить policy.WithOrigins("http://localhost:4200") на адрес хоста, где будет находиться frontend
- Запустить API

### Настройка роли администратора

Для назначения роли администратора пользователю необходимо выполнить следующие шаги:

1. Через базу данных:
   - В столбце role соответствующей записи пользователя установите значение "Admin".

2. Через код:
   - В файле User.cs, заменить значение по умолчанию "User" на "Admin" в поле роли.
3. Через api(нужно уже иметь пользователя с ролью "Admin"):
   - Авторизоваться с помощью access токена, и api/Admin/giveAdminRights{id} ввести id пользователя которому нужно дать роль администратора

### Работа с изображениями
Для корректного использования изображений в сервисе ImageService (WebApiModsen.Core) в строке result[1] = $"https://localhost:7029/images/{fileName}" заменіть на url, где находится API
